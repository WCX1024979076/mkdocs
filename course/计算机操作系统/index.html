
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://github.tim-wcx.ltd/mkdocs/course/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.3">
    
    
      
        <title>计算机操作系统 - Tim-Wcx</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4a0965b7.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#546d78">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue-grey" data-md-color-accent="pink">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Tim-Wcx" class="md-header__button md-logo" aria-label="Tim-Wcx" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 9V1.5h-3V9h-3V1.5h-3V9h-3V1.5H4.65V9H3v1.5h18V9h-1.5m0 4.5h-3V21h-3v-7.5h-3V21h-3v-7.5H4.65V21H3v1.5h18V21h-1.5v-7.5Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tim-Wcx
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              计算机操作系统
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../problem/%E7%BB%84%E9%98%9F%E8%AE%AD%E7%BB%83%E8%B5%9B%EF%BC%88%E5%9B%9B%EF%BC%89/" class="md-tabs__link">
        ICPC题解
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../icpc/%E4%B8%AA%E4%BA%BA%E6%A8%A1%E6%9D%BF/" class="md-tabs__link">
        ICPC模板
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../question/" class="md-tabs__link">
      ICPC题单
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" class="md-tabs__link md-tabs__link--active">
        课程复习
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../csdn/2020-08-01/" class="md-tabs__link">
        csdn导出
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Tim-Wcx" class="md-nav__button md-logo" aria-label="Tim-Wcx" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 9V1.5h-3V9h-3V1.5h-3V9h-3V1.5H4.65V9H3v1.5h18V9h-1.5m0 4.5h-3V21h-3v-7.5h-3V21h-3v-7.5H4.65V21H3v1.5h18V21h-1.5v-7.5Z"/></svg>

    </a>
    Tim-Wcx
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          ICPC题解
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ICPC题解" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          ICPC题解
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E7%BB%84%E9%98%9F%E8%AE%AD%E7%BB%83%E8%B5%9B%EF%BC%88%E5%9B%9B%EF%BC%89/" class="md-nav__link">
        组队训练赛（四）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E7%BB%84%E9%98%9F%E8%AE%AD%E7%BB%83%E8%B5%9B%EF%BC%88%E4%B8%89%EF%BC%89/" class="md-nav__link">
        组队训练赛（三）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E7%BB%84%E9%98%9F%E8%AE%AD%E7%BB%83%E8%B5%9B%EF%BC%88%E4%BA%8C%EF%BC%89/" class="md-nav__link">
        组队训练赛（二）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E7%BB%84%E9%98%9F%E8%AE%AD%E7%BB%83%E8%B5%9B%EF%BC%88%E4%B8%80%EF%BC%89/" class="md-nav__link">
        组队训练赛（一）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E7%B3%BB%E5%88%97%E9%A2%98%E8%A7%A3%EF%BC%88%E5%8D%81%E4%BA%94%EF%BC%89/" class="md-nav__link">
        暑假集训系列题解（十五）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E7%B3%BB%E5%88%97%E9%A2%98%E8%A7%A3%EF%BC%88%E5%8D%81%E5%9B%9B%EF%BC%89/" class="md-nav__link">
        暑假集训系列题解（十四）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E7%B3%BB%E5%88%97%E9%A2%98%E8%A7%A3%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89/" class="md-nav__link">
        暑假集训系列题解（十三）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E7%B3%BB%E5%88%97%E9%A2%98%E8%A7%A3%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89/" class="md-nav__link">
        暑假集训系列题解（十二）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E7%B3%BB%E5%88%97%E9%A2%98%E8%A7%A3%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89/" class="md-nav__link">
        暑假集训系列题解（十一）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E7%B3%BB%E5%88%97%E9%A2%98%E8%A7%A3%EF%BC%88%E5%8D%81%EF%BC%89/" class="md-nav__link">
        暑假集训系列题解（十）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E7%B3%BB%E5%88%97%E9%A2%98%E8%A7%A3%EF%BC%88%E4%B9%9D%EF%BC%89/" class="md-nav__link">
        暑假集训系列题解（九）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E7%B3%BB%E5%88%97%E9%A2%98%E8%A7%A3%EF%BC%88%E5%85%AB%EF%BC%89/" class="md-nav__link">
        暑假集训系列题解（八）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E7%B3%BB%E5%88%97%E9%A2%98%E8%A7%A3%EF%BC%88%E4%B8%83%EF%BC%89/" class="md-nav__link">
        暑假集训系列题解（七）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E7%B3%BB%E5%88%97%E9%A2%98%E8%A7%A3%EF%BC%88%E5%85%AD%EF%BC%89/" class="md-nav__link">
        暑假集训系列题解（六）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E7%B3%BB%E5%88%97%E9%A2%98%E8%A7%A3%EF%BC%88%E4%BA%94%EF%BC%89/" class="md-nav__link">
        暑假集训系列题解（五）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E7%B3%BB%E5%88%97%E9%A2%98%E8%A7%A3%EF%BC%88%E5%9B%9B%EF%BC%89/" class="md-nav__link">
        暑假集训系列题解（四）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E7%B3%BB%E5%88%97%E9%A2%98%E8%A7%A3%EF%BC%88%E4%B8%89%EF%BC%89/" class="md-nav__link">
        暑假集训系列题解（三）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E7%B3%BB%E5%88%97%E9%A2%98%E8%A7%A3%EF%BC%88%E4%BA%8C%EF%BC%89/" class="md-nav__link">
        暑假集训系列题解（二）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E9%A2%98%E8%A7%A3%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%80%EF%BC%89/" class="md-nav__link">
        暑假集训题解系列（一）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-02-02-2%E6%9C%882%E6%97%A5%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        2021-02-02-2月2日题解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-02-07-2%E6%9C%887%E6%97%A5%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        2021-02-07-2月7日题解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-02-02-2%E6%9C%882%E6%97%A5%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        2021-02-02-2月2日题解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-02-07-2%E6%9C%887%E6%97%A5%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        2021-02-07-2月7日题解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-02-08-2%E6%9C%888%E6%97%A5%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        2021-02-08-2月8日题解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-02-09-2%E6%9C%889%E6%97%A5%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        2021-02-09-2月9日题解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-02-12-%E5%AE%89%E5%8D%93%E8%AF%BE%E8%A1%A8%E5%AE%A2%E6%88%B7%E7%AB%AF%2B%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B3%A8%E8%A7%A3/" class="md-nav__link">
        2021-02-12-安卓课表客户端+服务端注解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-02-16-2%E6%9C%8816%E6%97%A5%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        2021-02-16-2月16日题解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-02-19-2%E6%9C%8819%E6%97%A5%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        2021-02-19-2月19日题解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-02-20-2%E6%9C%8820%E6%97%A5%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        2021-02-20-2月20日题解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-02-22-2%E6%9C%8822%E6%97%A5%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        2021-02-22-2月22日题解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-02-24-2%E6%9C%8824%E6%97%A5%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        2021-02-24-2月24日题解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-02-28-2%E6%9C%8828%E6%97%A5%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        2021-02-28-2月28日题解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-03-02-3%E6%9C%882%E6%97%A5%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        2021-03-02-3月2日题解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-03-07-3%E6%9C%887%E6%97%A5%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        2021-03-07-3月7日题解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-03-09-%E6%95%B0%E8%AE%BA/" class="md-nav__link">
        2021-03-09-数论
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../problem/2021-06-05-6%E6%9C%885%E6%97%A5%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        2021-06-05-6月5日题解
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          ICPC模板
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ICPC模板" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          ICPC模板
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../icpc/%E4%B8%AA%E4%BA%BA%E6%A8%A1%E6%9D%BF/" class="md-nav__link">
        个人模板
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../icpc/kuangbin%E6%A8%A1%E6%9D%BF/" class="md-nav__link">
        kuangbin模板
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../question/" class="md-nav__link">
        ICPC题单
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          课程复习
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="课程复习" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          课程复习
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" class="md-nav__link">
        数字图像处理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8E%B0%E4%BB%A3%E5%AF%86%E7%A0%81%E5%AD%A6/" class="md-nav__link">
        现代密码学
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" class="md-nav__link">
        软件工程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/" class="md-nav__link">
        计算机图形学
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          计算机操作系统
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        计算机操作系统
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    第零章 绪论
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    第一章 操作系统概述
  </a>
  
    <nav class="md-nav" aria-label="第一章 操作系统概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1 什么是操作系统
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    2 操作系统的发展
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    3. 操作系统的特征
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    4 操作系统的功能
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    5 指令的执行
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    6 小结
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    第二章 进程的描述与控制
  </a>
  
    <nav class="md-nav" aria-label="第二章 进程的描述与控制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    1 程序的并发运行
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    2 进程的描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-linux" class="md-nav__link">
    3 Linux的进程控制块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_1" class="md-nav__link">
    4 进程控制
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_1" class="md-nav__link">
    5 操作系统内核
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    第三章   进程同步
  </a>
  
    <nav class="md-nav" aria-label="第三章   进程同步">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    1 临界资源
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    2 信号量机制
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    3 经典同步问题
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_2" class="md-nav__link">
    4 管程
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_2" class="md-nav__link">
    5 进程间通信
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6_1" class="md-nav__link">
    6 小结
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    7 参考
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%8D%95%E7%89%87%E6%9C%BA/" class="md-nav__link">
        单片机
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          csdn导出
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="csdn导出" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          csdn导出
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-01/" class="md-nav__link">
        2020-08-01
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-02%E7%BA%BF%E6%AE%B5%E6%A0%91/" class="md-nav__link">
        2020-08-02线段树
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-03/" class="md-nav__link">
        2020-08-03
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-04/" class="md-nav__link">
        2020-08-04
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-05/" class="md-nav__link">
        2020-08-05
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-06%E7%BA%BF%E6%AE%B5%E6%A0%91/" class="md-nav__link">
        2020-08-06线段树
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-07/" class="md-nav__link">
        2020-08-07
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-08/" class="md-nav__link">
        2020-08-08
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-09/" class="md-nav__link">
        2020-08-09
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-10/" class="md-nav__link">
        2020-08-10
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-11/" class="md-nav__link">
        2020-08-11
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-12%E6%AC%A7%E6%8B%89%E5%87%BD%E6%95%B0/" class="md-nav__link">
        2020-08-12欧拉函数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-13/" class="md-nav__link">
        2020-08-13
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-14/" class="md-nav__link">
        2020-08-14
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-16%E6%A0%91%E5%BD%A2DP%E7%AD%89%E5%B7%AE%E6%95%B0%E5%88%97%E5%89%8D%E7%BC%80%E5%92%8C/" class="md-nav__link">
        2020-08-16树形DP等差数列前缀和
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-17/" class="md-nav__link">
        2020-08-17
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-18/" class="md-nav__link">
        2020-08-18
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-19/" class="md-nav__link">
        2020-08-19
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-20/" class="md-nav__link">
        2020-08-20
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-08-21/" class="md-nav__link">
        2020-08-21
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-09-05%E5%88%92%E5%88%86%E6%A0%91%E6%B1%82%E6%9F%90%E4%B8%80%E5%8C%BA%E9%97%B4%E7%9A%84%E4%B8%AD%E4%BD%8D%E6%95%B0/" class="md-nav__link">
        2020-09-05划分树求某一区间的中位数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-09-07/" class="md-nav__link">
        2020-09-07
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-09-08%E4%BA%8C%E5%88%86%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" class="md-nav__link">
        2020-09-08二分最小生成树
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-09-08%E6%95%B0%E4%BD%8DDP%E4%BA%8C%E5%88%86/" class="md-nav__link">
        2020-09-08数位DP二分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-09-09%E6%95%B0%E4%BD%8DDP/" class="md-nav__link">
        2020-09-09数位DP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-09-11%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84%E6%B1%82%E6%9C%80%E5%A4%A7%E5%80%BC/" class="md-nav__link">
        2020-09-11树状数组求最大值
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-09-12%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%93%88%E5%B8%8C/" class="md-nav__link">
        2020-09-12字符串哈希
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-09-12/" class="md-nav__link">
        2020-09-12
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-09-21%E5%87%B8%E5%8C%85%E7%AE%97%E6%B3%95/" class="md-nav__link">
        2020-09-21凸包算法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-09-23%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/" class="md-nav__link">
        2020-09-23树状数组
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-09-26%E6%9C%80%E5%B0%8F%E8%B4%B9%E7%94%A8%E6%9C%80%E5%A4%A7%E6%B5%81%E9%97%AE%E9%A2%98/" class="md-nav__link">
        2020-09-26最小费用最大流问题
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-10-04%E7%BA%BF%E6%AE%B5%E6%A0%91%E6%89%AB%E6%8F%8F%E7%BA%BF/" class="md-nav__link">
        2020-10-04线段树扫描线
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-10-05/" class="md-nav__link">
        2020-10-05
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-10-07%E5%B9%B6%E6%9F%A5%E9%9B%86%E5%90%AF%E5%8F%91%E5%BC%8F%E5%90%88%E5%B9%B6/" class="md-nav__link">
        2020-10-07并查集启发式合并
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-10-15dsuontree/" class="md-nav__link">
        2020-10-15dsuontree
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-11-23/" class="md-nav__link">
        2020-11-23
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-12-02/" class="md-nav__link">
        2020-12-02
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2020-7-31/" class="md-nav__link">
        2020-7-31
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2021-02-02/" class="md-nav__link">
        2021-02-02
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/2021-02-24/" class="md-nav__link">
        2021-02-24
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/Beyond_compare4_30%E5%A4%A9%E8%AF%95%E7%94%A8%E8%BF%87%E6%9C%9F/" class="md-nav__link">
        Beyondcompare430天试用过期
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/GitHub%E5%8D%9A%E5%AE%A2/" class="md-nav__link">
        GitHub博客
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/%E4%BA%8C%E5%88%86%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E6%A8%A1%E6%9D%BF/" class="md-nav__link">
        二分二分查找模板
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/%E5%BC%82%E6%88%96%E6%B1%82%E5%92%8C%E5%BC%8F/" class="md-nav__link">
        异或求和式
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/%E6%B1%82%E7%BB%84%E5%90%88%E6%95%B0%E7%9A%84%E6%96%B9%E6%B3%95/" class="md-nav__link">
        求组合数的方法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/%E6%B1%82%E9%80%86%E5%BA%8F%E5%AF%B9/" class="md-nav__link">
        求逆序对
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/%E7%AE%80%E4%BB%8B%E6%89%A9%E5%B1%95%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%B7%E5%AE%9A%E7%90%86/" class="md-nav__link">
        简介扩展欧几里德定理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../csdn/%E9%93%BE%E8%A1%A8/" class="md-nav__link">
        链表
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    第零章 绪论
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    第一章 操作系统概述
  </a>
  
    <nav class="md-nav" aria-label="第一章 操作系统概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1 什么是操作系统
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    2 操作系统的发展
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    3. 操作系统的特征
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    4 操作系统的功能
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    5 指令的执行
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    6 小结
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    第二章 进程的描述与控制
  </a>
  
    <nav class="md-nav" aria-label="第二章 进程的描述与控制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    1 程序的并发运行
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    2 进程的描述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-linux" class="md-nav__link">
    3 Linux的进程控制块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_1" class="md-nav__link">
    4 进程控制
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_1" class="md-nav__link">
    5 操作系统内核
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    第三章   进程同步
  </a>
  
    <nav class="md-nav" aria-label="第三章   进程同步">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    1 临界资源
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    2 信号量机制
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    3 经典同步问题
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_2" class="md-nav__link">
    4 管程
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_2" class="md-nav__link">
    5 进程间通信
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6_1" class="md-nav__link">
    6 小结
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    7 参考
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="_1">计算机操作系统复习<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<h3 id="_2">第零章 绪论<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>操作系统是一种规模较大、复杂性高的系统软件。</p>
</li>
<li>
<p>操作系统做什么？</p>
</li>
<li>
<p>为应用程序开发提供平台 2. 为应用程序运行提供支持：提供、资源管理、驱动硬接口件。</p>
</li>
<li>
<p>操作系统原理/OS设计与实现原理？</p>
</li>
</ol>
<p>功能、与硬件的接口、算法、数据结构、策略。</p>
<ol>
<li>操作系统 是如何被装入内存并开始运行的？</li>
</ol>
<p>BOOT-&gt;LOADER-&gt;KERNEL</p>
<ol>
<li>当你点击word的“存盘”时，你的数据是如何由内存传入磁盘？为什么你给出路径和文件名就可以得到你需要的文件内容？</li>
</ol>
<p>打开一个word文档是指把该文档从磁盘调入到内存并显示，文件系统。</p>
<ol>
<li>你桌面上的时钟每隔一分钟会刷新一次，怎么实现的？</li>
</ol>
<p>时钟中断，具体为，PIT(可编程间隔定时器) ---时钟中断---&gt; PIC (可编程中断控制器)  ---电信号、时钟中断向量&rarr; CPU ---&gt; 时钟中断处理程序。</p>
<ol>
<li>对一个大规模矩阵，按行遍历快还是按列遍历更快？为什么？一个应用程序的时间性能可以通过哪些环节的改善得以提高？</li>
</ol>
<p>看操作系统，按行优先还是按列优先。</p>
<p>降低时间复杂度，提高程序的局部性。</p>
<ol>
<li>网络数据包的发送和接收是如何实现的？</li>
</ol>
<p>参考链接：<a href="https://morven.life/posts/networking-1-pkg-snd-rcv/">Linux 数据包的接收与发送过程</a></p>
<blockquote>
<p>注：CPU上下文环境是指保证程序能正常运行而需要从内存恢复到CPU中寄存器的值。</p>
<p>磁盘块是指<span class="arithmatex"><span class="MathJax_Preview">2^n</span><script type="math/tex">2^n</script></span>个连续扇区，扇区大小一般为512字节。</p>
</blockquote>
<h3 id="_3">第一章 操作系统概述<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<h4 id="1">1 什么是操作系统<a class="headerlink" href="#1" title="Permanent link">&para;</a></h4>
<p>1、操作系统是用户与计算机硬件之间的接口</p>
<p>屏蔽控制硬件的细节，使应用程序的开发更简单、高效</p>
<p>1.2 接口形式：命令行接口、图形用户接口、系统调用</p>
<p>1.3 文件的存放</p>
<p>1.3.1 逻辑地址和物理地址</p>
<p>逻辑地址：簇号或扇区的逻辑编号。</p>
<p>物理地址：柱面号、磁头号（磁道号）、扇区号。</p>
<p>逻辑地址转为物理地址依赖于文件系统和设备驱动程序。</p>
<p>1.3.2 磁盘读文件的过程</p>
<p>1）用户给出文件名，提出访问文件的请求</p>
<p>2）文件系统通过按名访问机制获取文件的逻辑地址（磁盘块号或扇区编号）[OS完成]</p>
<p>3）磁盘驱动程序将逻辑地址转换为物理地址、发送磁盘操作指令 [OS完成]</p>
<p>2、操作系统是计算机资源的管理者</p>
<p>管理：处理机、内存、设备、文件、网络等。</p>
<p>2.1 操作系统的设计追求的主要目标</p>
<p>1）方便用户（最终用户和程序员）</p>
<p>2）提高系统性能：空间性能、时间性能、资源利用率 </p>
<h4 id="2">2 操作系统的发展<a class="headerlink" href="#2" title="Permanent link">&para;</a></h4>
<p>1、无操作系统 </p>
<p>定义：第一代计算机（1945-1955）使用电子管作为主要的电子器件，用插件板上的硬连线或穿孔卡表示程序，没有存储程序的内存，无操作系统。</p>
<p>2、单道批处理系统 </p>
<p>定义：单道批处理系统内存中只有一道作业，可以成批处理作业。克服CPU因等待人工操作造成的资源浪费问题</p>
<p>特点：①自动性  ②顺序性  ③单道性</p>
<p>优点：减少等待人工操作的时间</p>
<p>缺点： ①作业独占CPU ②CPU等待I/O使得CPU利用率低（相对于多道程序系统而言）    </p>
<p>3、多道程序系统</p>
<p>3.1 多道批处理系统</p>
<p>特点：①多道性  ②无序性 ③调度性 ④复杂性</p>
<p>优点：①提高CPU利用率 ②提高内存和I/O利用率 ③增加系统吞吐量</p>
<p>缺点： ①平均周转时间   ②缺乏交互能力</p>
<p>3.2 分时系统</p>
<p>连续的时间片轮流交替使用。</p>
<p>定义：①人机交互   ②共享主机  ③便于用户上机</p>
<p>特点：①多路性 ②独立性 ③及时性 ④交互性</p>
<p>优点：①提供人机交互 ②多终端共享主机</p>
<p>分时系统实现中的关键问题：</p>
<p>①及时接收：及时接收用户的命令或数据</p>
<p>②及时处理：及时处理用户命令。应该使所有的用户作业都直接进入内存；在很短的时间内使每个作业都得到运行。</p>
<p>4、微机操作系统 </p>
<p>5、实时操作系统 </p>
<p>定义：实时系统是支持实时计算的系统。实时计算可以定义成这样一类计算，既系统的正确性不仅取决于计算的逻辑结果，而且还依赖于产生结果的时间。</p>
<p>特点：①多路性 ②独立性 ③及时性 ④交互性 ⑤可靠性</p>
<p>实时任务的类型 ①周期性实时任务 ②非周期性实时任务 ③硬实时任务  ④软实时任务。</p>
<blockquote>
<p>注：一个实际的OS可以同时具有批处理、分时和实时的特点，如Windows NT。</p>
</blockquote>
<p>吞吐量是指单位时间内系统处理的作业量/任务量。</p>
<p>事件的开始截止时间，完成截止时间。</p>
<p>作业：在计算机操作系统中，作业(Job)是计算机操作员(或称为作业调度程序的程序)提供给操作系统执行任务的工作单元，一系列程序+数据的集合。</p>
<h4 id="3">3. 操作系统的特征<a class="headerlink" href="#3" title="Permanent link">&para;</a></h4>
<p>并发：两个或多个事件在同一时间间隔内发生。并发强调“同一时间间隔”，与并行是不同的两个概念，并行是指多个事件同时发生。</p>
<p>共享：系统中的资源可供内存中多个并发执行的进程共同使用。 资源共享有两种方式，即：互斥共享和同时共享。</p>
<p>虚拟：通过某种技术把一个物理实体变成若干逻辑上的对应物。</p>
<p>异步：进程以不可预知的顺序、进度运行，系统能处理随机发生的事件。</p>
<h4 id="4">4 操作系统的功能<a class="headerlink" href="#4" title="Permanent link">&para;</a></h4>
<p>内存管理功能、进程管理功能、设备管理功能、文件管理功能、用户接口</p>
<p>1、内存管理功能</p>
<p>内存分配;</p>
<p>内存保护: 确保每道用户程序都在自己的内存空间中运行，互不干扰。</p>
<p>地址映射;</p>
<p>①逻辑地址和物理地址</p>
<p>一个应用程序经编译后，通常会形成若干个目标程序，这些目标程序再经过链接而形成可装入程序。这些程序的地址都是从某一起始地址开始的，程序中的其它地址都是相对于起始地址计算的；由这些地址所形成的地址范围称“地址空间”，其中的地址称为“逻辑地址”。</p>
<p>由内存中的一系列单元所限定的地址范围称为“内存空间”，其中的地址称为“物理地址”。</p>
<p>②地址映射</p>
<p>内存扩充；虚拟内存。</p>
<p>内存回收：程序执行完毕或文件被关闭，系统将程序、文件占用的内存空间标记为空闲状态。</p>
<p>2、进程管理功能</p>
<p>进程控制</p>
<p>进程同步</p>
<p>进程通信</p>
<p>进程调度</p>
<p>3、设备管理功能</p>
<p>缓冲管理：管理各种缓冲区。</p>
<p>设备分配：分配用户I/O 所需要的设备。</p>
<p>设备处理：由设备驱动程序来实现CPU与设备控制器之间的通信。</p>
<p>设备独立性：应用程序与具体的物理设备无关。</p>
<p>虚拟设备：多个用户、多个进程课共享同一个物理设备。</p>
<p>4、文件管理功能</p>
<p>文件的按名访问</p>
<p>文件的存储</p>
<p>5、提供用户接口</p>
<p>命令接口</p>
<p>图形接口：采用图形化的操作界面。</p>
<p>程序接口：由一组系统调用组成。</p>
<h4 id="5">5 指令的执行<a class="headerlink" href="#5" title="Permanent link">&para;</a></h4>
<p>1、取指令与执行指令</p>
<p>1.1 取指令</p>
<p>在每个指令周期开始的时候，处理器从存储器中取一条指令，在典型的处理器中，程序计数器（PC）保存有下一次要取的指令的地址。除非接收到别的指示（如执行跳转指令），否则处理器在每次完成取指令后总是对PC递增，使它能够按顺序取得下一条指令。（即位于下一个高端存储器地址的指令）。</p>
<p>1.2 执行指令</p>
<p>取到的指令被放置在处理器中的指令寄存器（IR中。指令中包含确定处理器将要采取动作的位，处理器解释指令并执行要求的操作，这些操作可分为4类：</p>
<p>①处理器-存储器:数据在存储器和处理器之间传送；   </p>
<p>②处理器-I/O：数据在I/O设备和处理器之间传送；</p>
<p>③数据处理：算术操作或逻辑操作；</p>
<p>④控制：修改指令的执行顺序。</p>
<p>2、内部CPU寄存器</p>
<p>程序计数器（PC）----存指令地址</p>
<p>指令寄存器（IR) ----存正在执行的指令</p>
<p>累加器（AC)     ----临时存储体和累加操作</p>
<h4 id="6">6 小结<a class="headerlink" href="#6" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>程序执行的过程是反复取指令和执行指令的过程；</p>
</li>
<li>
<p>PC始终存有下一条待取指令的地址；</p>
</li>
<li>
<p>指令执行的结果就是使寄存器或内存单元的值发生变化。指令执行的过程也就是存储体内容不断变化的过程。</p>
</li>
<li>
<p>取指令和执行指令是由硬件完成的。</p>
</li>
<li>
<p>不同硬件的体系结构支持不同的指令集合，为某种硬件平台开发的操作系统不能直接在另一种体系结构的硬件上运行。</p>
</li>
<li>
<p>任何高级语言程序被编译成指令集合，其中的每一条指令属于机器体系结构指令集。CPU执行的最小程序单位是指令而不是高级语言程序的语句。</p>
</li>
<li>
<p>操作系统是一组控制和管理计算机硬件和软件资源、合理地对各类作业进行调度以及方便用户的程序集合。</p>
</li>
<li>
<p>说明逻辑地址对于程序的自动执行而言有什么意义？逻辑地址的存在使得编译器能够忽略不同操作系统和硬件的差异并且只针对统一的编址空间执行优化。</p>
</li>
<li>
<p>以printf的执行为例说明操作系统提供了应用程序开发的方便性、操作系统屏蔽了硬件细节的作用。</p>
</li>
</ol>
<p>封装调用系统调用，sys_print()系统调用并返回。</p>
<ol>
<li>
<p>请简要说明操作系统为应用程序的执行做了哪些工作？</p>
<p>操作系统到外存查找可执行文件</p>
<p>操作系统分配内存，将程序装入内存</p>
<p>为执行hello程序创建执行环境（创建新进程）</p>
<p>操作系统设置CPU上下文环境，并跳到程序开始处</p>
<p>程序的第一条指令执行</p>
<p>程序执行与printf对应的库函数、系统调用</p>
<p>执行显示驱动程序</p>
<p>将像素写入存储映像区(显存）</p>
</li>
<li>
<p>操作系统具有哪些特征？什么是并发？什么是共享？它们有什么关系？</p>
<p>并发性（Concurrence）</p>
<p>并行性和并发性是既相似又有区别的两个概念。并行性是指两个或多个事件在同一时刻发生，而并发性是指两个或多个在同一时间间隔内发生。在多道程序环境下，并发性是指宏观上在一段时间内有多道程序在同时执行。但在单处理机系统中，每一个时刻CPU仅能执行一道程序，故微观上，这些程序是在CPU上交互执行。</p>
<p>共享性（Sharing）</p>
<p>共享是指系统中的所有资源不再为一个程序所独占，而是供同时存在于系统中的多道程序所共同使用。根据资源属性不同，可有互斥共享和同时共享两种不同的共享方式。
并发和共享关系：</p>
<p>并发和共享是操作系统的两个最基本的特性，它们又是互为存在条件。一方面资源共享是以程序（进程）的并发性执行为条件的，若系统不允许程序并发执行，自然不存在资源共享问题。另一方面若系统不能对资源共享实施有效管理，则也必将影响到程序并发执行。</p>
</li>
</ol>
<h3 id="_4">第二章 进程的描述与控制<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<h4 id="1_1">1 程序的并发运行<a class="headerlink" href="#1_1" title="Permanent link">&para;</a></h4>
<p>1 概念</p>
<p>在同一时间间隔内运行多个程序，一个程序还没有执行完，可以运行其它的程序，对用户而言，看到的是计算机同时运行多个程序。</p>
<p>程序并发执行的方式可以是多个程序分时使用多CPU或单CPU。 </p>
<p>2 特点</p>
<p>①间断性 ②多个程序共享系统资源（失去封闭性）③不可再现性 </p>
<h4 id="2_1">2 进程的描述<a class="headerlink" href="#2_1" title="Permanent link">&para;</a></h4>
<p>进程概念的引入是为了跟踪并描述程序的并发执行。当允许程序并发执行时，并发执行的程序可能是同一个程序在不同数据集合上的执行，也可能是不同的程序在不同数据集合上的执行，它们共享系统资源，用程序已不能方便地描述程序的并发执行，所以引入了进程的概念 。</p>
<p>1 进程的定义</p>
<p>定义1：进程是允许并发执行的程序在某个数据集合上的执行过程。</p>
<p>定义2：进程是由用户数据、系统数据和程序构成的实体。</p>
<p>2 进程的特征</p>
<p>并发性：多个进程实体，同存于内存中，能在一 段时间内同时运行。 </p>
<p>动态性：进程是进程实体的执行过程，对应了存储体的不断变化；有创建、执行、状态变化和运行终止被撤消的过程</p>
<p>独立性：独立运行和资源调度的基本单位。</p>
<p>异步性：以不同的、不可预知的速度向前推进。</p>
<p>结构特征：进程包括用户数据、程序、系统数据。</p>
<p>3 进程与程序的比较</p>
<p>区别 ：</p>
<p>①程序是静态的概念，进程是动态的概念 </p>
<p>②程序是永久的，进程是暂时存在的 </p>
<p>③程序与进程的存在实体不同 </p>
<p>联系 ：</p>
<p>①进程是程序的一次执行，进程总是对应一个特定的程序，执行程序的代码，一个进程必然对应至少一段程序。</p>
<p>②一个程序可以对应多个进程。同一个程序段可以在不同的数据集合上运行，因而构成若干个不同的进程。</p>
<p>4 程序控制块</p>
<p>进程控制块是进程实体的一部分，<strong>与进程一一对应</strong>，是操作系统中最重要的记录型数据结构，PCB中记录了操作系统所需要的用于描述进程情况及控制进程运行所需的全部信息，<strong>只有内核程序可以直接访问</strong>。</p>
<p>4.1 进程控制块中的信息</p>
<p>1） 进程标识符信息</p>
<p>① 外部标识符 ② 内部标识符 ③ 父进程标识符 ④子进程标识符</p>
<p>2）处理机状态信息</p>
<p>①通用寄存器 ②指令计数器 ③程序状态字PSW ④用户栈指针</p>
<p>3）进程调度信息
①进程状态信息 ②进程优先级 ③进程调度所需要的其他信息 ④事件</p>
<p>4）进程控制信息
①程序和数据的地址 ②进程同步和通信机制 ③资源清单 ④链接指针</p>
<h4 id="3-linux">3 Linux的进程控制块<a class="headerlink" href="#3-linux" title="Permanent link">&para;</a></h4>
<p>Linux PCB大小为8KB</p>
<h4 id="4_1">4 进程控制<a class="headerlink" href="#4_1" title="Permanent link">&para;</a></h4>
<p>1、进程的基本状态</p>
<p>1.1 进程的三种基本状态</p>
<p>就绪状态：进程一但获得CPU就可以投入运行的状态。</p>
<p>执行状态：进程获得CPU正在运行的状态。</p>
<p>阻塞状态：进程由于等待资源或某个事件的发生而暂停执行的状态。 </p>
<p>1.2 进程状态的转换</p>
<p><img alt="进程状态转换" src="https://img.tim-wcx.ltd/i/2022/06/08/62a007964aad7.png" /></p>
<p>1.3 进程的组织</p>
<p>​   当系统中有很多进程时，可以用队列把进程控制块组织起来，形成进程队列。把具有相同状态的进程放在同一个队列中，具有不同状态的进程就可形成不同的进程队列。处于就绪状态的进程构成的进程队列称为就绪队列，处于阻塞状态的进程构成的进程队列称为阻塞队列。</p>
<p>1.4 链接方式</p>
<p>​    把具有相同状态的PCB用其中的链接字，链接成一个队列。就绪队列、执行队列和阻塞队列。</p>
<p>​   进程链表，循环队列</p>
<p>​   Pidhash表及链表 参考：<a href="https://zhuanlan.zhihu.com/p/361324735">Linux内核探秘——进程（二）</a></p>
<p>​   进程树</p>
<p>​   结构数组</p>
<p>2、进程的创建</p>
<p>2.1 引起创建进程的事件：① 用户登录 ② 作业调度③ 提供服务④ 应用请求     </p>
<p>2.2 进程创建 调用创建新进程的原语来创建进程，一般步骤为： ① 申请空白PCB② 为新进程分配资源③ 初始化进程控制块 ④ 将新进程插入就绪队列</p>
<p>3、进程阻塞</p>
<p>3.1 引起进程阻塞和唤醒的事件①请求系统服务，如：打印服务。②启动某种操作，如：启动I/O或启动打印机。③ 新数据尚未到达，如：一个计算进程，如果新的输入 数据还没有到达，则计算进程需要阻塞等待。</p>
<p>3.2 进程阻塞的简化过程①暂停进程的执行，将进程的状态改为阻塞态。②将进程插入相应的阻塞队列。③转进程调度程序，重新进行进程调度。</p>
<p>4、进程唤醒</p>
<p>4.1 进程唤醒过程 ①将进程从阻塞队列中移出 ②将进程状态由阻塞改为就绪 ③将进程插入就绪队列</p>
<p>5、进程的终止</p>
<p>5.1 引起进程终止的事件①正常结束②异常结束③外界干预</p>
<p>5.2 进程终止过程 ①从进程PCB中读进程状态②若进程正在执行则终止进程的执行③若进程有子孙进程则终止子孙进程*(不一定）④释放资源 ⑤将终止进程的PCB“移”出</p>
<blockquote>
<p>注：系统引导过程：</p>
<p>执行BIOS程序将BOOT程序加载入内存</p>
<p>执行BOOT程序，从外存找到Loader程序，将其加载入内存，并执行该程序</p>
<p>Loader程序将内核程序从外存加载入内存</p>
<p>内核开始执行</p>
</blockquote>
<h4 id="5_1">5 操作系统内核<a class="headerlink" href="#5_1" title="Permanent link">&para;</a></h4>
<p>1、中断</p>
<p>中断是改变处理器执行指令顺序的一种事件。这样的事件与CPU芯片内外部 硬件电路产生的电信号相对应 。</p>
<p>计算机在执行程序的过程中，当出现中断时，计算机停止现行程序的运行，转向对这些中断事件的处理，处理结束后再返回到现行程序的间断处。</p>
<p>引入中断机制能有效提高CPU的利用率，改善系统性能。</p>
<p>为什么引入中断？引入中断机制后，CPU可以与其它设备并行工作，能有效提高CPU的利用率，改善系统性能，支持系统的异步性。</p>
<p>1.1 中断类型</p>
<p>内部中断和外部中断</p>
<p>1.2 中断响应</p>
<p>响应外部中断的条件:开中断</p>
<p>响应外部中断的时机:CPU每执行完一条指令</p>
<p>内部中断：随时可能产生</p>
<p>1.3 单重中断的执行</p>
<p><img alt="单重中断的执行" src="https://img.tim-wcx.ltd/i/2022/06/08/62a0187fc55e7.png" /></p>
<blockquote>
<p>注：现在的计算机系统大多允许中断嵌套，在这样的系统中，保护完现场后就可以打开中断，允许响应新的中断。</p>
</blockquote>
<p>1.4 如何找到中断服务程序？</p>
<p>不同中断源对应不同的中断向量</p>
<p>根据中断向量查找中断向量表</p>
<p>从中断向量表中读取中断服务程序的入口地址相关信息</p>
<p>中断服务程序的入口地址相关信息在内存中的地址=idtr中的地址+中断向量表表项的长度×中断向量的值，idtr中的地址即为中断向量表的起始地址。</p>
<p>1.5 关于中断OS要做的事情</p>
<p>初始化中断向量表</p>
<p>初始化中断向量表寄存器（idtr寄存器）</p>
<p>执行中断处理程序</p>
<p>1.6 需要了解的硬件：</p>
<p>不同中断源对应的中断向量值</p>
<p>可编程中断控制器接口（PIC 可编程中断控制器）</p>
<p>与中断相关的寄存器名称及其用途</p>
<p>2、时钟管理</p>
<p>2.1 时钟的重要性</p>
<p>定时测量 </p>
<p>编译程序</p>
<p>防止进程垄断CPU或其他资源(CPU时间片)</p>
<p>与时钟相关的软件需要时钟支持</p>
<p>2.2 计算机系统中的时钟</p>
<p>大部分PC机中有两个时钟源，分别叫做RTC和OS时钟。</p>
<p>RTC时钟也叫CMOS时钟，是一块时钟芯片，靠电池供电，为计算机提供计时标准，是最原始、最底层的数据。</p>
<p>OS时钟产生于PC主板上的定时/计数芯片，在开机时有效。</p>
<p><img alt="时钟运作机制" src="https://img.tim-wcx.ltd/i/2022/06/08/62a01b1c9fa21.png" /></p>
<p>2.3 操作系统的时钟机制</p>
<p>2.3.1 操作系统内核需要完成的定时测量功能：</p>
<p>1.保存当前的日期和时间；2.维持定时器。</p>
<p>2.3.2 如何实现？</p>
<p>1.操作系统依靠时钟硬件（可编程间隔定时器）2.时钟软件（时钟驱动程序）</p>
<p>2.3.3 OS时钟硬件（可编程间隔定时器PIT，Programmable Interval Timer)）</p>
<p>功能：按指定的时间间隔产生时钟中断，测量逝去的时间,并触发与时间有关的操作。</p>
<p>组成：OS时钟由三个元件组成：晶振、计数器、保持寄存器。</p>
<p><img alt="PIT" src="https://img.tim-wcx.ltd/i/2022/06/08/62a01c41bf609.png" /></p>
<p><img alt="image-20220608114949661" src="https://img.tim-wcx.ltd/i/2022/06/08/62a01c5e0606f.png" /></p>
<p>2.3.4 时钟软件（时钟驱动程序）</p>
<p>时钟驱动程序做的几件事：</p>
<p>①维护日期、时间   ②递减时间片并检查是否为零，防止进程运行超时 ③对 CPU的使用情况记帐 ④递减报警计数器</p>
<p>3、系统调用</p>
<p>系统调用是一群预先定义好的模块,它们提供一条管道让应用程序或一般用户能由此得到核心程序的服务。系统调用是核心程序与用户程序之间的接口，在类UNIX系统中，系统调用多使用C语言所提供的函数库接口。如：在程序中，使用C的函数printf(   )。</p>
<p>3.1 系统调用与一般函数的区别</p>
<p>系统调用实现例程运行在系统态（核心态）而一般函数运行在用户态。</p>
<p>系统调用与一般函数调用的执行过程是不同的。当系统调用执行时，当前进程被中断，由系统找相应的系统调实现例程，并在系统态下执行，执行结果返回进程。 </p>
<p>系统调用要进行“中断处理”比一般函数调用多了一些系统开销。</p>
<blockquote>
<p>注：CPU内核态和用户态</p>
<p>（1）内核态执行</p>
<p>内核空间是指含有一切系统核心代码的地址空间，当CPU执行系统核心代码时，称进程处于内核态执行，CPU状态为内核态。</p>
<p>（2）用户态执行</p>
<p>用户空间是指用户进程所处的地址空间，当CPU执行用户空间的代码时，称该进程在用户态执行。CPU状态为用户态</p>
<p>0x 0000_0000 ~  0x BFFF_FFFF 用户空间 3GB</p>
<p>0x C000_0000 ~  0x FFFF_FFFF 内核空间 1GB</p>
</blockquote>
<p>3.2 Linux系统调用的实现</p>
<p>system_call()</p>
<p>系统调用号:与系统调用一一对应的整数</p>
<p>系统调用表:存系统调用实现例程起始地址的数据结构 ，由系统在初始化时建立。在Linux2.4.18和Linux2.6.11中这个表是sys_call_table数组，有NR_syscalls个表项（通常是256个,在linux2.6.11中是289）：第n个表项包含系统调用号为n的服务例程的地址。</p>
<p>系统调用实现例程</p>
<p>TODO ：类似于外设的控制</p>
<p>int 0x80
sysenter 都可以完成从用户态到内核态的切换</p>
<p><img alt="image-20220608140516278" src="https://img.tim-wcx.ltd/i/2022/06/08/62a03c1e84b9e.png" /></p>
<p>3.3 系统调用的类型</p>
<p>进程控制类系统调用:创建、撤消进程；获得、改变进程属性；</p>
<p>文件操纵系统调用：创建、删除、打开、关闭、读、写文件；</p>
<p>设备管理系统调用：请求、释放设备；</p>
<p>通信用系统调用：打开、关闭连接、交换信息；</p>
<p>信息维护：返回系统当前日期、时间、版本号、用户数、空闲内存、磁盘空间大小。</p>
<p>3.4 Linux中的系统调用举例</p>
<p>fork创建一个新进程 clone按指定条件创建子进程 execve运行可执行文件 exit中止进程</p>
<p>open打开文件 creat创建新文件 close关闭文件描述字 read读文件 write写文件</p>
<p>3.5 操作系统提供系统调用的优点</p>
<p>使编程更加容易，把用户从学习硬件设备的低级编程特性中解放出来；</p>
<p>提高了系统的安全性。</p>
<p>4、线程</p>
<p>线程是进程中的一个实体，<strong>是被系统独立调度和分派的基本单位</strong>。线程只拥有在运行中必需的资源，包括程序计数器、一组寄存器和栈，但它可以与同属一个进程的其他线程共享进程的全部资源，如：虚拟地址空间、文件。</p>
<blockquote>
<p>注：进程作为拥有资源的基本单位。</p>
</blockquote>
<p>4.1 进程与线程的关系</p>
<p><img alt="进程于线程的关系" src="https://img.tim-wcx.ltd/i/2022/06/08/62a03d403aa20.png" /></p>
<p>4.2 线程的三种基本状态</p>
<p>就绪，运行，阻塞三种状态（同进程的三种基本状态）</p>
<p>4.3 线程控制块TCB</p>
<p>线程控制块</p>
<p>每个线程都由一个数据结构表示，包括它的基本状态、标识以及记账信息。</p>
<p>线程控制块中的信息</p>
<p>①线程标识符信息 ②处理机状态信息 ③线程调度信息 ④线程控制信息</p>
<p>4.4 线程控制块的组织方式</p>
<p>正在执行队列、就绪队列和阻塞队列。</p>
<p>4.5 线程与进程的关系</p>
<p>①资源和调度 ②地址空间资源   ③通信关系 ④并发性 ⑤系统开销</p>
<p>TODO ：查询进程和线程之间的关系。</p>
<p>4.6 线程的控制</p>
<p>(1) 线程的创建 (2) 线程的终止 (3) 线程的调度  (4) 线程的阻塞与唤醒  (5)线程的同步</p>
<p>4.7 线程实现的模型</p>
<p>多对一模型、一对一模型、多对多模型</p>
<p>参考：</p>
<p><a href="https://www.jianshu.com/p/49e3e47d41f0">系统线程（内核线程）和用户线程区别</a></p>
<p><a href="https://blog.csdn.net/m0_50654102/article/details/116065035">用户态线程和内核态线程有什么区别？</a></p>
<p><a href="https://blog.csdn.net/weixin_46199479/article/details/123489910">内核线程与用户线程区别、同步互斥的实现原理——详解</a></p>
<p><a href="https://blog.csdn.net/weixin_42873905/article/details/115065452">用户线程、内核线程对应关系的三种模型</a></p>
<p>TODO：查询内核线程和用户线程之间的关系。</p>
<blockquote>
<p>注：批处理系统可以分为单道批处理系统和多道批处理系统。批处理是指用户将一批作业提交给操作系统后就不再干预,由操作系统控制它们自动运行。</p>
<p>进程存在的标志是（进程控制块PCB）。</p>
</blockquote>
<h3 id="_5">第三章   进程同步<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>1、为什么需要同步机制？</p>
<p>因为现代操作系统既要支持多进程（多线程）的并发执行，又要保证并发执行的程序结果是可再现的。</p>
<p>2、在多道程序环境下，进程之间可能存在两种关系：</p>
<p>1.资源共享 2.相互合作</p>
<p>进程同步的任务就是：</p>
<p>1.在资源共享的情况下：保证诸进程以互斥的方式访问临界资源—必须以互斥方  式访问的共享资源；</p>
<p>2.在相互合作的关系中：进程同步的主要任务是保证相互合作的诸进程在执行次序上协调，（有些教材把这种功能称做“同步”）。相互合作的进程可能同时存在资源共享的关系。</p>
<h4 id="1_2">1 临界资源<a class="headerlink" href="#1_2" title="Permanent link">&para;</a></h4>
<p>1、临界资源的定义</p>
<p>临界资源：以互斥方式访问的共享资源叫做临界资源。</p>
<p>临界区：每个进程中访问临界资源的那段代码称为临界区。</p>
<p>进入区：检查是否可以进入临界区并对临界区“加锁”的代码。</p>
<p>退出区：释放临界区访问权的代码。、</p>
<div class="highlight"><pre><span></span><code><span class="n">P</span><span class="w"></span>
<span class="err">｛…</span><span class="w"> </span><span class="err">…</span><span class="w"></span>
<span class="w">    </span><span class="n">进入区</span><span class="w"></span>
<span class="w">    </span><span class="n">CS</span><span class="w"></span>
<span class="w">    </span><span class="n">退出区</span><span class="w"></span>
<span class="w">    </span><span class="err">…</span><span class="w"> </span><span class="err">…</span><span class="w"></span>
<span class="err">｝</span><span class="w"></span>
</code></pre></div>
<p>2、同步机制应遵循的准则 </p>
<p>控制临界资源访问权的控制算法在设计上应遵循的原则 :</p>
<p>1.空闲让进 2. 忙则等待 3. 有限等待 4. 让权等待</p>
<h4 id="2_2">2 信号量机制<a class="headerlink" href="#2_2" title="Permanent link">&para;</a></h4>
<p>​   在信号量机制中，用某种类型的变量-信号量的取值来表示资源的使用状况，或某种事件是否发生，以此为基础实现进程的同步。我们将介绍整型信号量机制、记录型信号量机制、AND型信号量机制。</p>
<p>1、整型信号量</p>
<p>​   整型信号量是表示共享资源状态且只能由特殊操作改变的整型量。（其值好比信号灯的颜色）</p>
<p>​   信号量是一种数据结构（可以是整型数、整型数组、链表、记录型变量（结构体））。信号量的值与相应资源的使用情况有关。信号量的值仅由P、V操作改变。</p>
<p>​   思路：定义一个整型变量，用整型变量值标记资源使用情况：如整型量&gt;0,说明有可用资源；整型量≤0说明资源忙，进程必须等待。对于一次只允许一个进程访问的CS，可定义一个用于互斥的整型信号量，并被初始化为1。</p>
<p>​   整型信号量的wait和signal操作</p>
<p>​   wait(s)和signal(s)是原子操作（最基本、最小的、中间不允许插入任何中断的操作。要执行就要执行完），只要信号量s≤0就不断测试，不满足让权等待。</p>
<div class="highlight"><pre><span></span><code><span class="n">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="n">integer</span><span class="p">;</span><span class="w">      </span><span class="c1">//s为整型信号量</span>
<span class="n">wait</span><span class="p">(</span><span class="n">s</span><span class="p">){</span><span class="w">            </span><span class="c1">//用于申请资源</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="n">s</span><span class="err">≤</span><span class="mi">0</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="n">no</span><span class="o">-</span><span class="n">op</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="mi">-1</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">signal</span><span class="p">(</span><span class="n">s</span><span class="p">){</span><span class="w">          </span><span class="c1">//用于释放资源</span>
<span class="w">    </span><span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>整型信号量应用举例：</p>
<p>用整型信号量实现进程互斥</p>
<p>思路：为必须互斥访问的CS定义一个互斥信号量mutex，初始值为1。然后，将CS放在wait(mutex)和signal(mutex)之间，当CS可访问时，wait(mutex)才能正常结束使进程进入临界区。</p>
<p>伪代码：</p>
<div class="highlight"><pre><span></span><code><span class="nl">P1</span><span class="p">:</span><span class="w"></span>
<span class="p">{</span><span class="w">   </span><span class="err">…</span><span class="w"></span>
<span class="w">     </span><span class="n">wait</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="n">counter</span><span class="o">=</span><span class="n">counter</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="n">signal</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="err">…</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="nl">P2</span><span class="p">:</span><span class="w"></span>
<span class="p">{</span><span class="w">   </span><span class="err">…</span><span class="w"></span>
<span class="w">     </span><span class="n">wait</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="n">counter</span><span class="o">=</span><span class="n">counter</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="n">signal</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="err">…</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>用整型信号量实现进程协调</p>
<p>有p1和p2两个进程，要求p2必须在p1结束后执行，为此可设置一个信号量s，初始值置为0，同步代码如下：</p>
<div class="highlight"><pre><span></span><code>parbegin
  begin p1; signal(s); end
  begin wait(s); p2; end
parend
</code></pre></div>
<p>对整型信号量机制的总结</p>
<p>①整型信号量的值只能由wait和signal操作改变</p>
<p>②==wait和signal 两个操作中对信号量的访问是不能被中断的。==（为什么？）</p>
<p>③原子操作可以通过关中断来实现。（为什么对临界资源的访问不简单地通过关中断来实现？）</p>
<p>④整型信号量机制的实例:Linux中的自旋锁SpinLock</p>
<p>⑤不同的资源对应不同的信号量，并不是系统中所有的资源用同一个信号量表示。</p>
<p>2、记录型信号量</p>
<p>（1）记录型信号量的数据类型 </p>
<div class="highlight"><pre><span></span><code><span class="n">Type</span><span class="w">  </span><span class="n">semaphore</span><span class="o">=</span><span class="n">record</span><span class="w"></span>
<span class="nl">value</span><span class="p">:</span><span class="n">integer</span><span class="w">        </span><span class="c1">//资源数量</span>
<span class="nl">L</span><span class="p">:</span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">process</span><span class="w">   </span><span class="c1">//阻塞队列</span>
<span class="n">end</span><span class="p">.</span><span class="w"></span>
</code></pre></div>
<p>（2）记录型信号量的wait(s)和signal（s）操作</p>
<div class="highlight"><pre><span></span><code><span class="n">procedure</span><span class="w"> </span><span class="nf">wait</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="n">semaphore</span><span class="w"></span>
<span class="w">        </span><span class="n">begin</span><span class="w"></span>
<span class="w">            </span><span class="n">s</span><span class="p">.</span><span class="n">value</span><span class="o">=</span><span class="n">s</span><span class="p">.</span><span class="n">value</span><span class="mi">-1</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;</span><span class="mi">0</span><span class="w"> </span><span class="n">then</span><span class="w">  </span>
<span class="w">                </span><span class="n">block</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">L</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="n">end</span><span class="p">.</span><span class="w"></span>

<span class="n">procedure</span><span class="w"> </span><span class="n">signal</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="n">semaphore</span><span class="w"></span>
<span class="w">        </span><span class="n">begin</span><span class="w"></span>
<span class="w">            </span><span class="n">s</span><span class="p">.</span><span class="n">value</span><span class="o">=</span><span class="n">s</span><span class="p">.</span><span class="n">value</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">value</span><span class="o">&lt;=</span><span class="mi">0</span><span class="w"> </span><span class="n">then</span><span class="w">  </span>
<span class="w">                </span><span class="n">wakeup</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">L</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="n">end</span><span class="p">.</span><span class="w"></span>
</code></pre></div>
<p>（3）利用记录型信号量实现互斥</p>
<div class="highlight"><pre><span></span><code><span class="n">var</span><span class="w"> </span><span class="n">s</span><span class="o">:</span><span class="n">semaphore</span><span class="w">  </span>
<span class="n">s</span><span class="p">.</span><span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="w"></span>
<span class="n">begin</span><span class="w">                </span>
<span class="w">   </span><span class="n">repeat</span><span class="w"></span>
<span class="w">       </span><span class="n">wait</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w"></span>
<span class="w">          </span><span class="n">critical</span><span class="w"> </span><span class="n">section</span><span class="w"></span>
<span class="w">       </span><span class="n">signal</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"></span>
<span class="w">       </span><span class="n">remainder</span><span class="w"> </span><span class="n">section</span><span class="w"></span>
<span class="w">    </span><span class="n">until</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"></span>
<span class="n">end</span><span class="w"></span>
</code></pre></div>
<p>(4)利用记录型信号量实现“协调”的应用举例</p>
<p>输入进程：从外存读取数据并将数据放入内存缓冲区。</p>
<p>计算进程：从内存缓冲区取数据并对数据进行处理。</p>
<p>输入进程和计算进程共用内存缓冲区，缓冲区最多能容纳2个数据。要求：缓冲区满时，输入进程阻塞；缓冲区空时计算进程阻塞。</p>
<p>试采用记录型信号量机制实现输入进程与计算进程的同步。</p>
<div class="highlight"><pre><span></span><code><span class="n">解</span><span class="err">：</span><span class="n">设置两个信号量</span><span class="w"> </span><span class="n">var</span><span class="w"> </span><span class="n">empty</span><span class="err">、</span><span class="n">full</span><span class="o">:</span><span class="n">semaphore</span><span class="err">。</span><span class="w"></span>
<span class="w">   </span><span class="n">初始</span><span class="err">：</span><span class="w">        </span><span class="n">empty</span><span class="p">.</span><span class="n">value</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">full</span><span class="p">.</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="w"></span>
<span class="n">输入进程</span><span class="err">：</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">从外存读数据</span><span class="err">；</span><span class="w"></span>
<span class="w">    </span><span class="n">wait</span><span class="p">(</span><span class="n">empty</span><span class="p">).</span><span class="w"></span>
<span class="w">    </span><span class="n">往缓冲区中放数据</span><span class="w"></span>
<span class="w">    </span><span class="n">signal</span><span class="p">(</span><span class="n">full</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="n">计算进程</span><span class="err">：</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">wait</span><span class="p">(</span><span class="n">full</span><span class="p">)</span><span class="err">；</span><span class="w"></span>
<span class="w">    </span><span class="n">从缓冲读取数据</span><span class="err">；</span><span class="w"></span>
<span class="w">    </span><span class="n">signal</span><span class="p">(</span><span class="n">empty</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">处理数据</span><span class="err">；</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<h4 id="3_1">3 经典同步问题<a class="headerlink" href="#3_1" title="Permanent link">&para;</a></h4>
<p>1、生产者-消费者问题</p>
<p>(1)问题描述</p>
<p>生产者进程生产产品，并将产品提供给消费者进程消费。为使生产者进程和消费者进程能并发执行，在它们之间设置了一个具有n个缓冲区的缓冲池，生产者进程可以将它所生产的产品放入一个缓冲区中，消费者进程可以从一个缓冲区中取得一个产品消费。任意两个进程必须以互斥的方式访问公共缓冲池。当缓冲池空时，消费者进程必须等待；当缓冲池装满产品时，生产者进程必须等待。</p>
<p>(2) 需要解决的问题</p>
<p>①==对缓冲池的互斥访问。==</p>
<p>②对生产者进程、消费者进程的“协调”，即：有产品时才能消费，无产品时，必须先生产后消费；有空间时才能生产，空间满时，必须先消费再生产。</p>
<p>(3)信号量的设置</p>
<p>①一个互斥信号量，<mark>mutex用于实现对公共缓冲池的互斥访问，初值为1。</mark></p>
<p>②两个同步信号量，分别表示可用资源数。</p>
<p>​     empty：表示空缓冲区数,初值为n</p>
<p>​     full： 表示装有产品的缓冲区数，初值为0，(一个缓冲区中放一个产品）</p>
<p>(4)同步程序</p>
<div class="highlight"><pre><span></span><code><span class="w"> </span><span class="nl">Producer</span><span class="p">:</span><span class="w">                               </span>
<span class="w"> </span><span class="n">begin</span><span class="w">                                  </span>
<span class="w">   </span><span class="n">repeat</span><span class="w">                                 </span>
<span class="w">   </span><span class="err">…</span><span class="w">                                     </span>
<span class="w">   </span><span class="n">produce</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">nextp</span><span class="p">;</span><span class="w">                    </span>
<span class="w">   </span><span class="n">wait</span><span class="p">(</span><span class="n">empty</span><span class="p">);</span><span class="w">                             </span>
<span class="w">   </span><span class="n">wait</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span><span class="w">                              </span>
<span class="w">   </span><span class="n">buffer</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="o">:=</span><span class="n">nextp</span><span class="p">;</span><span class="w">                        </span>
<span class="w">   </span><span class="nl">in</span><span class="p">:</span><span class="o">=</span><span class="p">(</span><span class="n">in</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="n">mod</span><span class="w"> </span><span class="n">n</span><span class="w"></span>
<span class="w">   </span><span class="n">signal</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span><span class="w">                            </span>
<span class="w">   </span><span class="n">signal</span><span class="p">(</span><span class="n">full</span><span class="p">)</span><span class="err">；</span><span class="w"></span>
<span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w">  </span>
<span class="w"> </span><span class="n">end</span><span class="w">       </span>

<span class="w"> </span><span class="nl">Consumer</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="n">begin</span><span class="w"></span>
<span class="w">     </span><span class="n">repeat</span><span class="w"></span>
<span class="w">     </span><span class="err">…</span><span class="w"></span>
<span class="w">     </span><span class="n">wait</span><span class="p">(</span><span class="n">full</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="n">wait</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="nl">nextc</span><span class="p">:</span><span class="o">=</span><span class="n">buffer</span><span class="p">(</span><span class="n">out</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="nl">out</span><span class="p">:</span><span class="o">=</span><span class="p">(</span><span class="n">out</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="n">mod</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="n">signal</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="n">signal</span><span class="p">(</span><span class="n">empty</span><span class="p">)</span><span class="err">；</span><span class="w"></span>
<span class="w">     </span><span class="n">consume</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">nextc</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="n">until</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span>
<span class="w">     </span><span class="n">end</span><span class="w"></span>
</code></pre></div>
<p>(5)说明</p>
<p>①wait 和signal操作成对出现</p>
<p>②wait操作的顺序不能颠倒</p>
<p>③对具有相互合作关系的进程，提供解决问题的模型</p>
<p>2、习题：</p>
<p>TODO</p>
<p>某系统有同属一个进程的两个线程P和Q，共享一个数据区B，假设B区空间足够大。线程P负责周期性检测工作场所的温度，将所测结果送入数据区B。线程Q则每次从数据区B取出一个最新的检测数据进行处理。如果B区中没有检测数据，则线程Q阻塞等待。请回答下列问题：</p>
<p>（1）数据区B应采用什么样的数据结构？栈</p>
<p>（2）用记录型信号量机制实现进程P与Q之间的同步关系。（说明信号量的作用及初值）</p>
<div class="highlight"><pre><span></span><code><span class="n">解</span><span class="err">：</span><span class="n">设置两个信号量</span><span class="w"> </span><span class="n">var</span><span class="w"> </span><span class="n">empty</span><span class="p">,</span><span class="n">mutex</span><span class="o">:</span><span class="n">semaphore</span><span class="err">。</span><span class="w"></span>
<span class="w">   </span><span class="n">初始</span><span class="err">：</span><span class="w">        </span><span class="n">empty</span><span class="p">.</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">mutex</span><span class="p">.</span><span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="w"></span>
<span class="n">P进程</span><span class="err">：</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">wait</span><span class="p">(</span><span class="n">mutex</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">从外存读数据</span><span class="err">；</span><span class="w"></span>
<span class="w">    </span><span class="n">signal</span><span class="p">(</span><span class="n">empty</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">signal</span><span class="p">(</span><span class="n">mutex</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="n">Q进程</span><span class="err">：</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">wait</span><span class="p">(</span><span class="n">empty</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">wait</span><span class="p">(</span><span class="n">mutex</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">从缓冲读取数据</span><span class="err">；</span><span class="w"></span>
<span class="w">    </span><span class="n">处理数据</span><span class="err">；</span><span class="w"></span>
<span class="w">    </span><span class="n">signal</span><span class="p">(</span><span class="n">mutex</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>3、 读者-写者问题</p>
<p>(1)问题描述</p>
<p>D是多个进程共享的数据区，允许多个进程同时读D区中的数据；允许一个进程往D区写数据，有一个进程在D区中执行写操作时，不能有其它任何进程在D区中执行读或写操作。</p>
<p>(2)信号量的设置</p>
<p>①全局量readcount 用于对进入共享区的读进程计数。</p>
<p>②rmutex用于对多个进程共享的变量readcount的互斥访问。</p>
<p>③wmutex用于实现读/写互斥、写/写互斥。</p>
<p>(3)同步程序</p>
<div class="highlight"><pre><span></span><code>解：设置两个信号量 var rmutex,wmutex:semaphore。
   初始：        rmutex.value=1,wmutex.value=1
   变量：var readcount.
   初始：readcount=0
读进程：
{
    wait(rmutex)
    if(readcount==0)
        wait(wmutex);
    readcount++;
    signal(rmutex)
    读数据
    wait(rmutex)
    readcount--;
    if(readcount==0)
        signal(wmutex);
    signal(rmutex)
}
写进程：
{
    wait(wmutex);
    写数据
    signal(wmutex);
}
</code></pre></div>
<h4 id="4_2">4 管程<a class="headerlink" href="#4_2" title="Permanent link">&para;</a></h4>
<p>信号量机制的缺陷：每个访问临界资源的进程都必须自备同步操作wait(s)和signal(s)。这就使大量的同步操作分散在各个进程中，这不仅给系统的管理带来麻烦，而且还会因同步操作的使用不当而导致系统出错,因此引入了“管程”的解决方案。</p>
<p>1、管程的定义</p>
<p>管程是描述共享资源的数据结构和在数据结构上的共享资源管理程序的集合。</p>
<p>2、对管程的说明</p>
<p>①管程是可供程序员调用的软件包，一个管程是一个由过程、变量等组成的一个集合，它们组成一个特殊的模块或软件包。进程可以在任何需要的时候调用管程中的过程，但它们不能在管程外的过程中直接访问管程内的变量。 </p>
<p>②每次只有一个进程调用管程执行，任一时刻管程中只能有一个活跃进程。若多个进程同时调用一个管程中的过程，只有一个进程得以进入管程，继续运行，其它进程需要等待。 </p>
<p>③管程是一种编程语言的构件，所以编译器知道它们很特殊，并可以采用与其他过程调用不同的方法来处理它们。典型的，当一个进程调用管程中的过程时，前几条指令将检查在管程中是否有其他的活跃进程，如果有，调用进程将挂起，直到另一个进程离开管程，如果没有，则调用进程进入管程。</p>
<p>如果P唤醒Q，可能有两种不同的处理方案：</p>
<p>P继续在管程中执行，Q等待；P等待，让Q先执行管程中的代码。</p>
<p>3、条件变量</p>
<p>为了进行并发处理，管程必须包含同步工具,例如：假设一个进程调用了管程，并且当它在管程中时必须被阻塞，直到满足某些条件。这就需要一种机制，使得该进程不仅被阻塞而且能释放这个进程，以便某些别的进程可以进入。以后当条件满足并且管程再次可用时，需要恢复该进程并允许它在阻塞点重新进入管程。管程通过使用条件变量提供同步的支持，这些条件变量包含在管程中，并且只有在管程中才能被访问。</p>
<p>一个管程过程，可以用在某条件变量上执行wait操作，将调用的进程阻塞并插入该条件的阻塞队列 ，也可以用在条件变量上执行signal操作，唤醒在该条件上阻塞的进程。</p>
<p>4、管程的应用</p>
<p>（1）利用管程解决生产者-消费者问题</p>
<div class="highlight"><pre><span></span><code><span class="n">type</span><span class="w"> </span><span class="n">PC</span><span class="o">=</span><span class="n">monitor</span><span class="w"></span>
<span class="n">condition</span><span class="w"> </span><span class="n">full</span><span class="p">,</span><span class="w"> </span><span class="n">empty</span><span class="p">;</span><span class="w"></span>
<span class="n">integer</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w"></span>
<span class="n">procedure</span><span class="w"> </span><span class="nf">enter</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">begin</span><span class="w"></span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="n">count</span><span class="o">=</span><span class="n">N</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">wait</span><span class="p">(</span><span class="n">full</span><span class="p">);</span><span class="w"></span>
<span class="w">           </span><span class="n">enter</span><span class="err">–</span><span class="n">item</span><span class="p">;</span><span class="w"></span>
<span class="w">           </span><span class="n">count</span><span class="o">=</span><span class="n">count</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">           </span><span class="n">signal</span><span class="p">(</span><span class="n">empty</span><span class="p">)</span><span class="w"> </span><span class="c1">//唤醒因为队列空而阻塞的进程</span>
<span class="w">       </span><span class="n">end</span><span class="w"></span>

<span class="n">procedure</span><span class="w"> </span><span class="n">remove</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">begin</span><span class="w"></span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">wait</span><span class="p">(</span><span class="n">empty</span><span class="p">);</span><span class="w"></span>
<span class="w">           </span><span class="n">remove</span><span class="err">–</span><span class="n">item</span><span class="p">;</span><span class="w"></span>
<span class="w">           </span><span class="n">count</span><span class="o">=</span><span class="n">count</span><span class="mi">-1</span><span class="p">;</span><span class="w"></span>
<span class="w">           </span><span class="n">signal</span><span class="p">(</span><span class="n">full</span><span class="p">)</span><span class="w"> </span><span class="c1">//唤醒因为队列满而阻塞的进程</span>
<span class="w">       </span><span class="n">end</span><span class="w"></span>
<span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="n">end</span><span class="w"> </span><span class="n">monitor</span><span class="p">;</span><span class="w"></span>

<span class="nl">Producer</span><span class="p">:</span><span class="w"></span>
<span class="n">begin</span><span class="w"></span>
<span class="w">     </span><span class="n">repeat</span><span class="w"></span>
<span class="w">     </span><span class="n">produce</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">nextp</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="n">PC</span><span class="p">.</span><span class="n">enter</span><span class="p">(</span><span class="n">item</span><span class="p">);</span><span class="w"></span>
<span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"></span>
<span class="w"> </span><span class="n">end</span><span class="w"></span>

<span class="w"> </span><span class="nl">Consumer</span><span class="p">:</span><span class="w"></span>
<span class="w"> </span><span class="n">begin</span><span class="w"></span>
<span class="w">     </span><span class="n">repeat</span><span class="w"></span>
<span class="w">     </span><span class="n">PC</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">item</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="n">consume</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">nextc</span><span class="p">;</span><span class="w"></span>
<span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"></span>
<span class="w"> </span><span class="n">end</span><span class="w"></span>
</code></pre></div>
<p>（2）利用管程解决哲学家进餐问题</p>
<p>问题描述</p>
<p>有五个哲学家围坐在一个圆桌旁，每两人之间放一只筷子，每个哲学家的行为是思考，感到饥饿，然后用餐。为了能够进餐，每个哲学家必须拿到两只筷子，并且每个人只能直接从自己的左边或右边去取筷子。</p>
<p>代码</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="n">type</span><span class="w"> </span><span class="n">dining</span><span class="o">-</span><span class="n">philosophers</span><span class="o">=</span><span class="n">monitor</span><span class="w"></span>
<span class="w">    </span><span class="n">var</span><span class="w"> </span><span class="n">state</span><span class="o">:</span><span class="n">array</span><span class="p">[</span><span class="mf">0..4</span><span class="p">]</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="p">(</span><span class="n">thinking</span><span class="p">,</span><span class="n">hungry</span><span class="p">,</span><span class="n">eating</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">var</span><span class="w"> </span><span class="n">self</span><span class="o">:</span><span class="n">array</span><span class="w"> </span><span class="p">[</span><span class="mf">0..4</span><span class="p">]</span><span class="w">  </span><span class="n">of</span><span class="w"> </span><span class="n">condition</span><span class="p">;</span><span class="w"></span>

<span class="w">     </span><span class="n">procedure</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="n">pickup</span><span class="p">(</span><span class="n">i</span><span class="o">:</span><span class="mf">0..4</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">begin</span><span class="w"></span>
<span class="w">            </span><span class="n">state</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">hungry</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="n">test</span><span class="p">(</span><span class="n">i</span><span class="p">);</span><span class="w"></span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">state</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="err">≠</span><span class="n">eating</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">self</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">wait</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="n">end</span><span class="p">;</span><span class="w">    </span>

<span class="w">     </span><span class="n">procedure</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="n">putdown</span><span class="p">(</span><span class="n">i</span><span class="o">:</span><span class="mf">0..4</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="n">begin</span><span class="w"></span>
<span class="w">         </span><span class="n">state</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">thinking</span><span class="p">;</span><span class="w"></span>
<span class="w">         </span><span class="n">test</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">4</span><span class="w"> </span><span class="n">mod</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w"></span>
<span class="w">         </span><span class="n">test</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="w"> </span><span class="n">mod</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="n">end</span><span class="w"></span>

<span class="w">     </span><span class="n">procedure</span><span class="w"> </span><span class="n">test</span><span class="p">(</span><span class="n">k</span><span class="o">:</span><span class="mf">0..4</span><span class="p">);</span><span class="w"></span>
<span class="w">       </span><span class="n">begin</span><span class="w"></span>
<span class="w">           </span><span class="k">if</span><span class="w"> </span><span class="n">state</span><span class="p">[</span><span class="n">k</span><span class="o">+</span><span class="mi">4</span><span class="w"> </span><span class="n">mod</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="err">≠</span><span class="n">eating</span><span class="w"></span>
<span class="w">               </span><span class="n">and</span><span class="w"> </span><span class="n">state</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">=</span><span class="n">hungry</span><span class="w"></span>
<span class="w">               </span><span class="n">and</span><span class="w"> </span><span class="n">state</span><span class="p">[</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="w"> </span><span class="n">mod</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="err">≠</span><span class="n">eating</span><span class="w"></span>
<span class="w">           </span><span class="n">then</span><span class="w"> </span><span class="n">begin</span><span class="w"></span>
<span class="w">               </span><span class="n">state</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">=</span><span class="n">eating</span><span class="w"></span>
<span class="w">               </span><span class="n">self</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">signal</span><span class="p">;</span><span class="w"></span>
<span class="w">           </span><span class="n">end</span><span class="w"></span>
<span class="w">        </span><span class="n">end</span><span class="w"></span>

<span class="w">        </span><span class="n">begin</span><span class="w"></span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="o">:=</span><span class="mi">0</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">4</span><span class="w"></span>
<span class="w">               </span><span class="k">do</span><span class="w"> </span><span class="n">state</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">thinking</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="n">end</span><span class="w"></span>

<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="n">philosopher</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="w">       </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"></span>
<span class="w">           </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="n">think</span><span class="p">();</span><span class="w"></span>
<span class="w">                </span><span class="n">pickup</span><span class="p">(</span><span class="n">i</span><span class="p">);</span><span class="w"></span>
<span class="w">                </span><span class="n">eat</span><span class="p">();</span><span class="w"></span>
<span class="w">                </span><span class="n">putdown</span><span class="p">(</span><span class="n">i</span><span class="p">);</span><span class="w"></span>
<span class="w">             </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<h4 id="5_2">5 进程间通信<a class="headerlink" href="#5_2" title="Permanent link">&para;</a></h4>
<p><img alt="image-20220609162852242" src="https://img.tim-wcx.ltd/i/2022/06/09/62a1af475bba0.png" /></p>
<h4 id="6_1">6 小结<a class="headerlink" href="#6_1" title="Permanent link">&para;</a></h4>
<p>1、实现进程互斥的基本原理是什么?</p>
<p>记录性信号量机制:在记录性信号机制里面有S .value，记录的是资源的信号的量，通过去验证每次这个值是否大于0，来判断是否让进程来使用此资源，但是，一旦这个值 s.value=1就允许一个进程访问该资源。从而实现了进程的互斥。这种机制用于各个进程对一个资源的共享。</p>
<p>AND型信号的机制:将一个进程中运行过程中的所有需要的资源，都一次性全部分配给进程。待进程使用完成后，在一并的去释放。这是好几个进程对好几个共享资源的一个实现的方法。</p>
<p>管程机制:利用共享数据结构抽想的表示系统的共享资源。把对该共享数据的操作定义为一组过程。进程对共享资源的操作，就是这组过程对共享数据的一个操作。</p>
<p>进程互斥的目的是使进程以互斥的方式访问临界资源，只要能使进程以互斥的方式进入临界区就能够保证进程对临界资源的互斥访问。所以，可以通过在临界区前加进入区代码，在临界区后面加退出区代码来实现进程的互斥。</p>
<p>临界区是每个进程中访问临界资源的那段代码。进入区是检查是否可以进入临界区并对临界区“加锁”的代码。退出区是释放临界区访问权的代码。</p>
<p>2、进程同步机制的任务是什么？</p>
<p>进程同步的主要任务是对多个相关进程在执行次序上进行协调,以使并发执行的诸进程之间能有效地共享资源和相互合作,从而使程序的执行具有可再现性。</p>
<p>3、为什么在生产者-消费者问题中wait操作的顺序不能颠倒？</p>
<p>如果生产者和消费者进程都先通过执行等待(互斥)申请公共缓冲池的互斥访问权，然后通过申请资源信号量申请空缓冲区或装满产品的缓冲区，当缓冲池满时，若生产者进程先申请到公共缓冲池的互斥访问权，然后申请空缓冲区，因缓冲池中没有空缓冲区，生产者进程阻塞。消费者进程因无法申请到公共缓冲池的互斥访问权，也会被阻塞.生产者进程等待消费者进程释放空缓冲区，消费者进程等待生产者进程释放公共缓冲池的互斥访问权，进程因互相等待对方释放资源而处于不能执行的僵持状态.</p>
<p>4、为什么对10个不同的临界资源(counter1-counter10)不能只用一个互斥信号量﹖(理解)</p>
<p>若用一个互斥信号量实现对多个临界资源的互斥访问，则会造成资源的浪费，一个进程申请一个资源时，会同时占用其不需要的资源，则其他进程不能访问被锁住却并没有被使用的资源。</p>
<p>故10个不同的临界资源不能只用一个互斥信号量。</p>
<p>5、三个进程P1、P2、P3互斥使用一个包含N（N &gt; 0）个单元的缓冲区。P1每次用produce()生成一个正整数并用put()送入缓冲区某一空单元中；P2每次用getodd()从该缓冲区中取出一个奇数并用countodd()统计奇数个数；P3每次用geteven()从该缓冲区中取出一个偶数并用counteven()统计偶数个数。请用信号量机制实现这三个进程的同步与互斥活动，并说明所定义信号量的含义。要求用伪代码描述。 </p>
<p>采用记录型信号量来实现，伪代码如下。</p>
<div class="highlight"><pre><span></span><code>解：设置两个信号量 var mutex,empty,odd,even:semaphore。
   初始：        mutex.value=1,empty=N,odd=0,even=0
P1进程：
{
    wait(empty)
    wait(mutex)
    num = produce()
    signal(mutex)
    if(num%2==0)
        signal(even)
    else
        signal(odd)
}
P2进程：
{
    wait(odd)
    wait(mutex)
    getodd()
    countodd()
    signal(mutex)
    signal(empty)
}
P3进程：
{
    wait(even)
    wait(mutex)
    geteven()
    counteven()
    signal(mutex)
    signal(empty)
}
</code></pre></div>
<h4 id="7">7 参考<a class="headerlink" href="#7" title="Permanent link">&para;</a></h4>
<p><a href="https://blog.csdn.net/Auris/article/details/107415378">Linux内核自旋锁(spinlock)使用与源码分析</a></p>
<p><a href="https://blog.csdn.net/weixin_42260102/article/details/100527437">操作系统第三章：进程同步和互斥</a></p>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="页脚" >
      
        
        <a href="../%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 计算机图形学" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一页
              </span>
              计算机图形学
            </div>
          </div>
        </a>
      
      
        
        <a href="../%E5%8D%95%E7%89%87%E6%9C%BA/" class="md-footer__link md-footer__link--next" aria-label="下一页: 单片机" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一页
              </span>
              单片机
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.b028fd86.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f758a944.min.js"></script>
      
        <script src="../../js/extra.js"></script>
      
        <script src="../../js/baidu-tongji.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>